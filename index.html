<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Django Socio gRPC Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> Django Socio gRPC Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#what-is-django-socio-grpc">What is Django Socio gRPC</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#quickstart">Quickstart</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#install-dependencies">Install dependencies</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#django-setup">Django setup</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#django-settings">Django settings</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#define-a-model">Define a model</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#define-a-serializer">Define a Serializer</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#define-a-service">Define a Service</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#register-the-service">Register the service</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#generate-the-protofile-and-the-client-associated-to-the-model">Generate the protofile and the client associated to the model</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#assign-the-newly-generated-class-to-the-serializer">Assign the newly generated class to the serializer</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#launch-the-server">Launch the server</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="generate_proto/">Generate Proto</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="generic_service/">Generic Service</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="model_service/">Model Service</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="proto_serializer/">Proto Serializer</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="sync_vs_async/">Sync vs Async</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="server_and_service_register/">Server and service register</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="permissions_and_authentication/">Permissions and Authentication</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="logging/">Logging</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="settings/">Settings</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="testing/">Testing</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">Django Socio gRPC Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="django-socio-grpc-documentation">Django Socio gRPC Documentation</h1>
<p>Learn how to use gRPC with Django like you usually code with Django Rest Framework.</p>
<h2 id="what-is-django-socio-grpc">What is Django Socio gRPC</h2>
<p>Django Socio gRPC is the implementation of how to do gRPC in a django web serveur in the Django Rest Framework way. This project is strongly inspired from <a href="https://github.com/fengsp/django-grpc-framework">Django gRPC Framework</a> but add all the necessary features to be production ready such as pagination, filtering, async, authentification, ...
And some really cool helper as the protobuf generation from the model or the register helper.</p>
<h2 id="quickstart">Quickstart</h2>
<h3 id="install-dependencies">Install dependencies</h3>
<pre><code class="language-bash">pip install djangogrpcframework
pip install django
pip install grpcio
pip install grpcio-tools
pip install asyncio # Not mandatory but it's the default behavior used in the quickstart
pip install django-socio-grpc
</code></pre>
<h3 id="django-setup">Django setup</h3>
<pre><code class="language-bash">django-admin startproject tutorial
cd tutorial
django-admin startapp quickstart
python manage.py migrate
</code></pre>
<h3 id="django-settings">Django settings</h3>
<p>Add django_socio_grpc to INSTALLED_APPS, settings module is in tutorial/settings.py:</p>
<pre><code class="language-python">INSTALLED_APPS = [
    ...
    'django_socio_grpc',
]
</code></pre>
<h3 id="define-a-model">Define a model</h3>
<pre><code class="language-python"># quickstart/models.py
from django.db import models


class Question(models.Model):
    question_text = models.CharField(max_length=200)
    pub_date = models.DateTimeField('date published')
</code></pre>
<h3 id="define-a-serializer">Define a Serializer</h3>
<pre><code class="language-python"># quickstart/serializers.py
from django_socio_grpc import proto_serializers
import quickstart.grpc.quickstart_pb2 as quickstart_pb2
from .models import Question


class QuestionProtoSerializer(proto_serializers.ModelProtoSerializer):
    class Meta:
        model = Question
        fields = [&quot;id&quot;, &quot;question_text&quot;, &quot;pub_date&quot;]

</code></pre>
<h3 id="define-a-service">Define a Service</h3>
<pre><code class="language-python"># quickstart/services.py
from django_socio_grpc import generics
from .models import Question
from .serializers import QuestionProtoSerializer


class QuestionService(generics.AsyncModelService):
    queryset = Question.objects.all()
    serializer_class = QuestionProtoSerializer

</code></pre>
<h3 id="register-the-service">Register the service</h3>
<pre><code class="language-python"># quickstart/handlers.py
from django_socio_grpc.utils.servicer_register import AppHandlerRegistry
from quickstart.services import QuestionService


def grpc_handlers(server):
    app_registry = AppHandlerRegistry(&quot;quickstart&quot;, server)
    app_registry.register(QuestionService)
</code></pre>
<h3 id="generate-the-protofile-and-the-client-associated-to-the-model">Generate the protofile and the client associated to the model</h3>
<pre><code class="language-bash">python manage.py generateproto
</code></pre>
<h3 id="assign-the-newly-generated-class-to-the-serializer">Assign the newly generated class to the serializer</h3>
<pre><code class="language-python"># quickstart/serializers.py
from django_socio_grpc import proto_serializers
import quickstart.grpc.quickstart_pb2 as quickstart_pb2
from .models import Question


class QuestionProtoSerializer(proto_serializers.ModelProtoSerializer):
    class Meta:
        model = Question
        proto_class = quickstart_pb2.QuestionResponse # Modification here
        proto_class_list = quickstart_pb2.QuestionListResponse # Modification here
        fields = [&quot;id&quot;, &quot;question_text&quot;, &quot;pub_date&quot;]
</code></pre>
<h3 id="launch-the-server">Launch the server</h3>
<pre><code class="language-bash">python manage.py grpcrunaioserver --dev
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="generate_proto/" class="btn btn-neutral float-right" title="Generate Proto">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
      <span><a href="generate_proto/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.2.2
Build Date UTC : 2022-03-01 12:33:02.690134+00:00
-->
